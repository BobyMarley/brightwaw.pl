# üî• –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è –∫–æ–ª–ª–µ–∫—Ü–∏–∏ workers

## –ü—Ä–æ–±–ª–µ–º–∞
–í —Ç–≤–æ–∏—Ö Firebase Rules –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –∫–æ–ª–ª–µ–∫—Ü–∏—è `workers`, –ø–æ—ç—Ç–æ–º—É –≤—Å–µ –∑–∞–ø—Ä–æ—Å—ã –±–ª–æ–∫–∏—Ä—É—é—Ç—Å—è.

## ‚úÖ –î–æ–±–∞–≤—å –≠–¢–ò –ø—Ä–∞–≤–∏–ª–∞ –ü–ï–†–ï–î fallback –ø—Ä–∞–≤–∏–ª–æ–º:

```javascript
// ================= WORKERS COLLECTION =================
match /workers/{workerId} {
  // –ê–î–ú–ò–ù: –ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º —Ä–∞–±–æ—Ç–Ω–∏–∫–∞–º
  allow read, write: if isAdmin();
  
  // –†–ê–ë–û–¢–ù–ò–ö: –ú–æ–∂–µ—Ç —á–∏—Ç–∞—Ç—å –∏ –æ–±–Ω–æ–≤–ª—è—Ç—å —Ç–æ–ª—å–∫–æ —Å–≤–æ–π –ø—Ä–æ—Ñ–∏–ª—å
  allow read, update: if request.auth != null && 
                         request.auth.token.email == resource.data.email;
}
```

## üìç –ì–¥–µ –≤—Å—Ç–∞–≤–∏—Ç—å:

–ù–∞–π–¥–∏ –≤ —Å–≤–æ–∏—Ö –ø—Ä–∞–≤–∏–ª–∞—Ö —ç—Ç—É —Å–µ–∫—Ü–∏—é:
```javascript
// ================= FALLBACK RULE =================
// –ó–∞–ø—Ä–µ—â–∞–µ—Ç –ª—é–±–æ–π –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º –æ—Å—Ç–∞–ª—å–Ω—ã–º –ø—É—Ç—è–º
match /{document=**} {
  allow read, write: if false;
}
```

–ò –ü–ï–†–ï–î –Ω–µ–π –¥–æ–±–∞–≤—å –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è workers.

## üéØ –ü–æ–ª–Ω–∞—è —Å–µ–∫—Ü–∏—è –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏:

```javascript
// ================= WORKERS COLLECTION =================
match /workers/{workerId} {
  // –ê–î–ú–ò–ù: –ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø - –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å, —á–∏—Ç–∞—Ç—å, –æ–±–Ω–æ–≤–ª—è—Ç—å, —É–¥–∞–ª—è—Ç—å —Ä–∞–±–æ—Ç–Ω–∏–∫–æ–≤
  allow read, write: if isAdmin();
  
  // –†–ê–ë–û–¢–ù–ò–ö: –ú–æ–∂–µ—Ç —á–∏—Ç–∞—Ç—å —Å–≤–æ–π –ø—Ä–æ—Ñ–∏–ª—å –∏ –æ–±–Ω–æ–≤–ª—è—Ç—å —Å–≤–æ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ
  allow read: if request.auth != null && 
                 request.auth.token.email == resource.data.email;
                 
  // –†–ê–ë–û–¢–ù–ò–ö: –ú–æ–∂–µ—Ç –æ–±–Ω–æ–≤–ª—è—Ç—å —Ç–æ–ª—å–∫–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ –ø–æ–ª—è —Å–≤–æ–µ–≥–æ –ø—Ä–æ—Ñ–∏–ª—è
  allow update: if request.auth != null && 
                   request.auth.token.email == resource.data.email &&
                   request.resource.data.diff(resource.data).affectedKeys()
                     .hasOnly(['availability', 'updatedAt']);
}

// ================= FALLBACK RULE =================
match /{document=**} {
  allow read, write: if false;
}
```

## üöÄ –ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è:
1. –ù–∞–∂–º–∏ **Publish** –≤ Firebase Console
2. –ü–æ–¥–æ–∂–¥–∏ 1-2 –º–∏–Ω—É—Ç—ã
3. –ü–æ–ø—Ä–æ–±—É–π —Å–æ–∑–¥–∞—Ç—å —Ä–∞–±–æ—Ç–Ω–∏–∫–∞ - –¥–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å!